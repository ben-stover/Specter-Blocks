<!DOCTYPE html>
<html>
<!-- Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED. -->
<head>
<title>Specter Blocks</title>
<style>
body {
  margin: 0.5% 15% 0% 15%;
  font-family:arial;
  background-color:black;
} /* Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED. */
#gameClient {
  position:relative;
  margin-left:25%;
  margin-right:25%;
  width:404px;
  height:515px;
  border:solid 2px silver;
  border-radius:5px;
  background-color:indigo; 
}
#gameScreen {
  width:400px;
  height:400px;
  position:absolute;
  border: solid 2px silver;
  border-radius:5px;
  background:midnightblue;
}	
#gameTitle {
  font-family:impact;
  text-shadow:1px 1px #002000;
  color:chartreuse;
  text-align:center;
  font-size:2em;
  width:398px;  
}
#coins {
  padding-left:2px;
  border: solid 1px aliceblue;
  border-radius:1px;
  background-color:black;
  color:gold;
  width:100px;
}
#volcont {
  text-align:right;
  padding-right:7px;
  width:221px;
}
#time {
  padding-left:2px;
  border: solid 1px aliceblue;
  border-radius:1px;
  background-color:black;
  color:skyblue;
  width:70px;
}
#player {
  width:25px;
  height:25px;
  position:absolute;
  top:0px;
  left:0px;
  border-radius:5px;
  background-color:blue;
  visibility:hidden;
}
#barrier1 {
  width:100px;
  height:25px;
  position:absolute;
  top:75px;
  left:75px;
  border-radius:5px;
  background-color:cyan;
  visibility:hidden;
}
#barrier2 {
  width:100px;
  height:25px;
  position:absolute;
  top:300px;
  left:275px;
  border-radius:5px;
  background-color:cyan;
  visibility: hidden;
}
#barrier3 {
  width:25px;
  height:100px;
  position:absolute;
  top:150px;
  left:100px;
  border-radius:5px;
  background-color:cyan;
  visibility:hidden;
}
#gold {
  width:10px;
  height:10px;
  position:absolute;
  top:200px;
  left:150px;
  border-radius:5px;
  background-color:gold;
  visibility: hidden;
} /* Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED. */
#specter1 {
  width:25px;
  height:25px;
  position:absolute;
  top:150px;
  left:150px;
  border-radius:5px;
  background-color:chartreuse;
  visibility:hidden;
}
#specter2 {
  width:25px;
  height:25px;
  position:absolute;
  top:200px;
  left:300px;
  border-radius:5px;
  background-color:chartreuse;
  visibility:hidden;
}
#startGame {
  position:absolute;
  top:345px;
  left:150px;  
}
#startButton {
  font-family:impact;
  height:50px;
  width:100px;
  font-size:30px;
  border-radius:20px;
}
#quitGame {
  position:absolute;
  top:410px;
  left:0px;
}
#quitButton {
  height:35px;
  width:55px;
  font-size:18px;
  border-radius:15px;
}
#resetGame {
  position:absolute;
  top:410px;
  left:335px;
}
#resetButton {
  height:35px;
  width:65px;
  font-size:18px;
  border-radius:15px;
}
#howTo {
  padding: 0px 60px 0px 60px;
  color:aliceblue;
  font-size:20px;
  text-align:center;
}
#leftBtn {
  position:absolute;
  top:410px;
  left:115px;
}
#rightBtn {
  position:absolute;
  top:410px;
  left:250px;
}
#upBtn {
  position:absolute;
  top:410px;
  left:160px;
}
#downBtn {
  position:absolute;
  top:410px;
  left:205px;
}
#dButton {
  height:35px;
  width:35px;
  font-size:20px;
  border-radius:20px;
}
#uButton {
  height:35px;
  width:35px;
  font-size:20px;
  border-radius:20px;
}
#lButton {
  height:35px;
  width:35px;
  font-size:20px;
  border-radius:20px;
}
#rButton {
  height:35px;
  width:35px;
  font-size:20px;
  border-radius:20px;
} /* Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED. */
#gameOver {
 font-family:impact;
 letter-spacing:0.1em;
 word-spacing:0.2em;
 text-shadow: 0px 10px #0000aa;
 position:absolute;
 left:0px;
 top:0px;
 opacity:0.75;
 color:red;
 background-color:gray;
 height:400px;
 width:400px;
 font-size:36px;
 font-style:bold;
 text-align:center;
 visibility:hidden;
}
#kba {
 margin-left:30%;
 margin-right:30%;
 color:silver;
 text-align:center;
 width:300px;
}
#copyright {
 margin-left:30%;
 margin-right:30%;
 width:300px;
 color:green;
 font-size:8px;
 text-align:center;
}
.btns {color:navy;}
.btns1 {color:chocolate;}
.pcursor {cursor:pointer;}
</style>
</head>
<body onkeydown="keyPressed(event)">
<div id="gameClient">
<div id="gameTitle">Specter Blocks<span style="font-size:7px;font-family:arial;"> v1.1.2</span></div>
<div><table><tr><td id="coins">COINS: 0</td><td id="volcont"><img id="volicon" class="pcursor" src="volume.png" onclick="volControl()" alt="Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED."></td><td id="time">TIME: 60</td></tr></table></div>
<div id="gameScreen">
<div id="howTo">
<p>You are the Blue Block!</p>
<p>Avoid the Flashing, Moving Barriers!</p>
<p>Evade the Green Specter Blocks!</p>
<p>Get as many Gold Coins as you can before Time runs out!</p>
<p>The Game is Lost by hitting the Barriers or getting caught by a Specter!</p>
</div>
<div id="gold"></div>
<div id="barrier1"></div>
<div id="barrier2"></div>
<div id="barrier3"></div>
<div id="player"></div>
<div id="specter1"></div>
<div id="specter2"></div>
<div id="gameOver"></div>
<div id="startGame"><button id="startButton" class="pcursor btns" onclick="playGame()">START</button></div>
<div id="quitGame"><button id="quitButton" class="pcursor btns" onclick="quitGame()">Quit</button></div>
<div id="upBtn"><button id="uButton" class="pcursor btns1" onclick="moveUp()">U</button></div>
<div id="downBtn"><button id="dButton" class="pcursor btns1" onclick="moveDown()">D</button></div>
<div id="leftBtn"><button id="lButton" class="pcursor btns1" onclick="moveLeft()">L</button></div>
<div id="rightBtn"><button id="rButton" class="pcursor btns1" onclick="moveRight()">R</button></div>
<div id="resetGame"><button id="resetButton" class="pcursor btns" onclick="resetGame()">Reset</button></div>
</div>
</div>
<script>
var d = document;
var winref = this.window;
var oneInstance = false;
var volOff = false;
var toggle = false;
var toggle1 = false;
var togglePulse = false;
var togmvb1 = false;
var togmvb2 = false;
var togmvb3 = false;
var count = 60;
var key = 0;
var coins = 0;
var isGameOver = false;

var s1 = d.getElementById("specter1");
var s2 = d.getElementById("specter2");
var ob1 = d.getElementById("barrier1");
var ob2 = d.getElementById("barrier2");
var ob3 = d.getElementById("barrier3");
var og = d.getElementById("gold");

var posx = 150;
var posy = 150;
var posx1 = 300;
var posy1 = 200;
var prevx = 0;
var prevy = 0;
var prevx1 = 0;
var prevy1 = 0;
var randmodx = 1;
var randmody = 1;
var randmodx1 = 1;
var randmody1 = 1; 

var b1posx = 75;
var b1posy = 75;
var b2posx = 275;
var b2posy = 300;
var b3posx = 100;
var b3posy = 150;

var plcurx = 0;
var plcury = 0;
var plposx = 0;
var plposy = 0;

var cy = 200;
var cx = 150;

var ms;
var pb;
var mb;
var sc;
var cd;

var sif = setInterval;
var cif = clearInterval;
var mff = Math.floor;
var mrf = Math.random;

d.getElementById("resetButton").disabled = true;
d.getElementById("uButton").disabled = true;
d.getElementById("dButton").disabled = true;
d.getElementById("lButton").disabled = true;
d.getElementById("rButton").disabled = true;

function playGame() {
     d.getElementById("music").play();
	 d.getElementById("startGame").style.visibility = "hidden";
	if (!oneInstance) {
	  oneInstance = true;
	  s1.style.visibility = "visible";
	  s2.style.visibility = "visible";
	  d.getElementById("player").style.visibility = "visible";
	  ob1.style.visibility = "visible";
	  ob2.style.visibility = "visible";
	  ob3.style.visibility = "visible";
	  og.style.visibility = "visible";
	  d.getElementById("howTo").style.visibility = "hidden";
	  d.getElementById("resetButton").disabled = false;
	  d.getElementById("uButton").disabled = false;
	  d.getElementById("dButton").disabled = false;
	  d.getElementById("lButton").disabled = false;
	  d.getElementById("rButton").disabled = false;
	  
	  ms = sif(moveSpecters, 10);
	  pb = sif(pulseBarriers, 353);
	  mb = sif(moveBarriers, 17);
	  sc = sif(spawnCoins, 5000);
	  cd = sif(countDown, 1000);
	}
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
  function moveSpecters() {
    if (posx > 375 || posy > 375) {
      toggle = true;
      randmodx = (mff(mrf() * 4)-2);
      randmody = (mff(mrf() * 4)-2);
    } else if (posx < 0 || posy < 0) {
      toggle = false;
      randmodx = (mff(mrf() * 4)-2);
      randmody = (mff(mrf() * 4)-2);
    }
    if (!toggle) {
        posx+=randmodx;
        posy+=randmody;
    } else {
        posx-=randmodx;
        posy-=randmody;
    }
	if (posx < 0) {
		posx = 1;
		toggle = false;
		randmodx = (mff(mrf() * 4)-2);
	} else if (posx > 375) {
		posx = 354;
		toggle = true;
		randmodx = (mff(mrf() * 4)-2);
	}
	if (posy < 0) {
		posy = 1;
		toggle = false;
		randmody = (mff(mrf() * 4)-2);
	} else if (posy > 375) {
		posy = 357;
		toggle = true;
		randmody = (mff(mrf() * 4)-2);
	}
	if ((prevx == posx) && (prevy == posy)) {
		posx++;
		posy--;
	} // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.	
	prevx = posx;
	prevy = posy;
        s1.style.top = posy + 'px';
        s1.style.left = posx + 'px';
	hitSpecter1();
	
	if (posx1 > 375 || posy1 > 375) {
      toggle1 = true;
      randmodx1 = (mff(mrf() * 5)-1);
      randmody1 = (mff(mrf() * 5)-1);
    } else if (posx1 < 0 || posy1 < 0) {
      toggle1 = false;
      randmodx1 = (mff(mrf() * 5)-1);
      randmody1 = (mff(mrf() * 5)-1);
    }
    if (!toggle1) {
        posx1+=randmodx1;
        posy1+=randmody1;
    } else {
        posx1-=randmodx1;
        posy1-=randmody1;
    }
	if (posx1 < 0) {
		posx1 = 1;
		toggle1 = false;
		randmodx1 = (mff(mrf() * 5)-1);
	} else if (posx1 > 375) {
		posx1 = 354;
		toggle1 = true;
		randmodx1 = (mff(mrf() * 5)-1);
	}
	if (posy1 < 0) {
		posy1 = 1;
		toggle1 = false;
		randmody1 = (mff(mrf() * 5)-1);
	} else if (posy1 > 375) {
		posy1 = 357;
		toggle1 = true;
		randmody1 = (mff(mrf() * 5)-1);
	}
	if ((prevx1 == posx1) && (prevy1 == posy1)) {
		posx1++;
		posy1--;
	}	
	prevx1 = posx1;
	prevy1 = posy1;
	s2.style.top = posy1 + 'px';
    s2.style.left = posx1 + 'px';
	hitSpecter2();
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
  function pulseBarriers() {
	if (!togglePulse) {
		togglePulse = true;
		ob1.style.backgroundColor = "gray";
		ob2.style.backgroundColor = "gray";
		ob3.style.backgroundColor = "gray";
	} else {
		togglePulse = false;
		ob1.style.backgroundColor = "cyan";
		ob2.style.backgroundColor = "cyan";
		ob3.style.backgroundColor = "cyan";
	}
  }
  function moveBarriers() {
    if (b1posx > 300) {
      togmvb1 = true;
    } else if (b1posx < 1) {
      togmvb1 = false;
    }
    if (!togmvb1) {
        b1posx++;
    } else {
        b1posx--;
    }	
    ob1.style.top = b1posy + 'px';
    ob1.style.left = b1posx + 'px';
	hitBarrier1();
	if (b2posx > 300) {
      togmvb2 = true;
    } else if (b2posx < 1) {
      togmvb2 = false;
    }
    if (!togmvb2) {
        b2posx++;
    } else {
        b2posx--;
    }	
    ob2.style.top = b2posy + 'px';
    ob2.style.left = b2posx + 'px';
	hitBarrier2();
    if (b3posx > 375) {
      togmvb3 = true;
    } else if (b3posx < 1) {
      togmvb3 = false;
    }
    if (!togmvb3) {
        b3posx+=2;
    } else {
        b3posx-=2;
    }	
    ob3.style.top = b3posy + 'px';
    ob3.style.left = b3posx + 'px';
	hitBarrier3();
  }
  function hitBarrier1() {
    if ((((plposx >= b1posx) && (plposx <= (b1posx+99))) && ((plposy >= b1posy) && (plposy <= (b1posy+23)))) || ((((plposx+23) >= b1posx) && ((plposx+23) <= (b1posx+99))) && (((plposy+23) >= b1posy) && ((plposy+23) <= (b1posy+23))))) {
		gameOver();
	}
  }
  function hitBarrier2() {
    if ((((plposx >= b2posx) && (plposx <= (b2posx+99))) && ((plposy >= b2posy) && (plposy <= (b2posy+23)))) || ((((plposx+23) >= b2posx) && ((plposx+23) <= (b2posx+99))) && (((plposy+23) >= b2posy) && ((plposy+23) <= (b2posy+23))))) {
		gameOver();
	}
  }
  function hitBarrier3() {
    if ((((plposx >= b3posx) && (plposx <= (b3posx+23))) && ((plposy >= b3posy) && (plposy <= (b3posy+99)))) || ((((plposx+23) >= b3posx) && ((plposx+23) <= (b3posx+23))) && (((plposy+23) >= b3posy) && ((plposy+23) <= (b3posy+99))))) {
		gameOver();
	}
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
  function hitSpecter1() {
    if ((((plposx >= posx) && (plposx <= (posx+23))) && ((plposy >= posy) && (plposy <= (posy+23)))) || ((((plposx+23) >= posx) && ((plposx+23) <= (posx+23))) && (((plposy+23) >= posy) && ((plposy+23) <= (posy+23))))) {
		gameOver();
	}
  }
  function hitSpecter2() {
    if ((((plposx >= posx1) && (plposx <= (posx1+23))) && ((plposy >= posy1) && (plposy <= (posy1+23)))) || ((((plposx+23) >= posx1) && ((plposx+23) <= (posx1+23))) && (((plposy+23) >= posy1) && ((plposy+23) <= (posy1+23))))) {
		gameOver();
	}
  }
  function spawnCoins() {
    og.style.visibility = "hidden";
	cx = mff(mrf() * 360) + 15;
	cy = mff(mrf() * 360) + 15;
	og.style.top = cy + 'px';
	og.style.left = cx + 'px';	
	og.style.visibility = "visible"
  }
  function getCoins() {
    if (((cx >= plposx) && (cx <= (plposx+25))) && ((cy >= plposy) && (cy <= (plposy+25))) || (((cx+10) >= plposx) && ((cx+10) <= (plposx+25))) && (((cy+10) >= plposy) && ((cy+10) <= (plposy+25)))) {
		og.style.backgroundColor = "white";
		addCoins();
		setTimeout(goldGhost, 200);
	}
  }
  function goldGhost() {
	og.style.backgroundColor = "gold";
	spawnCoins();
  }
  function addCoins() {
	coins++;
	if (!volOff) {
		d.getElementById("sfx_got_coin").play();
	}
	d.getElementById("coins").innerHTML = "COINS: " + coins;
  }
  function countDown() {
    if (count > 0) {
		count--;
		d.getElementById("time").innerHTML = "TIME: " + count;
	} else {
		d.getElementById("music").pause();
		d.getElementById("sfx_won").play();
		cif(ms);
		cif(pb);
		cif(mb);
		cif(sc);
		cif(cd);
		isGameOver = true;
		d.getElementById("gameOver").innerHTML = "<p>Time Is Up!</p><p>YOU WON !</p><p>You Got "+ coins + " Coin(s) Too!</p><p>Play Again!</p>";
		d.getElementById("gameOver").style.visibility = "visible";
	}
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
  function moveUp() {
    if (!isGameOver) {
		plcury-=25;
		if (plcury >= 0) {
			plposy = plcury;
			d.getElementById("player").style.top = plposy + 'px';
			getCoins();
		} else {
			plcury+=25;
		}
	}
  }
  function moveDown() {
    if (!isGameOver) {
		plcury+=25;
		if (plcury <= 375) {
			plposy = plcury;
			d.getElementById("player").style.top = plposy + 'px';
			getCoins();
		} else {
			plcury-=25;
		}
	}	
  }
  function moveLeft() {
	if (!isGameOver) {
		plcurx-=25;
		if (plcurx >= 0) {
			plposx = plcurx;
			d.getElementById("player").style.left = plposx + 'px';
			getCoins();
		} else {
			plcurx+=25;
		}
	}	
  }
  function moveRight() {
	if (!isGameOver) {
		plcurx+=25;
		if (plcurx <= 375) {
			plposx = plcurx;
			d.getElementById("player").style.left = plposx + 'px';
			getCoins();
		} else {
			plcurx-=25;
		}
	}	
  }
  function keyPressed(event) {
  var key = event.which || event.keyCode;
	switch (key) {		
		case 38:
			moveUp();
			break;
		case 40:
			moveDown();
			break;
		case 37:
			moveLeft();
			break;
		case 39:
			moveRight();
			break;
	}
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
  function gameOver() {
		if (!volOff) {
			d.getElementById("music").pause();
			}
		cif(ms);
		cif(pb);
		cif(mb);
		cif(sc);
		cif(cd);
		if (!volOff) {
			d.getElementById("sfx_lose").play();
		}
		isGameOver = true;
		d.getElementById("gameOver").innerHTML = "<p>You Lost!</p><p>Game Over!</p><p>Try Again!</p>";
		d.getElementById("gameOver").style.visibility = "visible";
  }
  function quitGame() {
	history.back();
  }
  function resetGame() {
	winref.location.reload();
  }
  function volControl() {
  if (!isGameOver && oneInstance) {
		if (!volOff) {
			volOff = true;
			d.getElementById("volicon").src = "volumeOff.png";
			d.getElementById("music").pause();
		} else {
			volOff = false;
			d.getElementById("volicon").src = "volume.png";
			d.getElementById("music").play();
		}
	}
  } // Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED.
</script>
<div id="kba">*** Use your Keyboard Arrow Keys to move OR Mouse to click on the Directional Buttons above ***</div>
<div id="copyright">A RogueScalar Game !<br/ >Copyright (C) 2016 RogueScalar - ALL RIGHTS RESERVED | Game Music Credit: Half Pipe by Huma-Huma (Youtube free audio)</div>
<audio id="music" volume="0.25" preload="auto">
<source src="Half_Pipe_by_Huma-Huma.mp3" type="audio/mpeg">
</audio>
<audio id="sfx_got_coin" volume="1.0" preload="auto">
<source src="gotcoin.mp3" type="audio/mpeg">
</audio>
<audio id="sfx_lose" volume="0.75" preload="auto">
<source src="caught.mp3" type="audio/mpeg">
</audio>
<audio id="sfx_won" volume="1.0" preload="auto">
<source src="won.mp3" type="audio/mpeg">
</audio>
</body>
</html>
